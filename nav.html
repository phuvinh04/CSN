<header class="bg-green-600 text-white fixed w-full top-0 z-50">
  <div class="container mx-auto flex items-center justify-between py-2 px-4">
    <div class="flex items-center">
      <img alt="Logo PV GARDEN" class="h-10 w-10" src="images/logo.jpg"/>
      <span class="ml-2 font-bold text-lg">PV GARDEN</span>
    </div>

    <div class="flex-1 max-w-xl mx-8 relative z-[100]">
      <div class="relative">
        <input type="text" 
          id="searchInput"
          placeholder="Tìm kiếm sản phẩm..." 
          class="w-full px-4 py-2 rounded-lg text-gray-800 bg-white focus:outline-none border border-gray-300 focus:border-green-500 transition-colors"
        />
        <button id="searchButton" class="absolute right-0 top-0 h-full px-4 text-gray-500 hover:text-gray-700 transition-colors">
          <i class="fas fa-search"></i>
        </button>

        <div id="searchResults" 
          class="absolute left-0 right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-xl hidden overflow-hidden z-[110]">
          <div class="max-h-[400px] overflow-y-auto scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100">
            <div id="resultsList" class="divide-y divide-gray-100">
              <!-- Kết quả tìm kiếm sẽ được thêm vào đây -->
            </div>
          </div>
        </div>
      </div>
    </div>

    <nav class="flex items-center space-x-4">
      <a class="hover:text-gray-300" href="index.html">Trang chủ</a>
      <a class="hover:text-gray-300" href="gioithieu.html">Giới thiệu</a>
      <a class="hover:text-gray-300" href="sanpham.html">Sản phẩm</a>

      <div class="relative group">
        <button class="hover:text-gray-300 focus:outline-none">Cách chăm sóc</button>
        <div class="absolute bg-white text-black rounded shadow-lg hidden group-hover:block group-focus-within:block">
          <a class="block px-4 py-2 hover:bg-gray-200" href="senda.html">Chăm sóc sen đá</a>
          <a class="block px-4 py-2 hover:bg-gray-200" href="senda.html">Chăm sóc xương rồng</a>
        </div>
      </div>

      <div class="relative group">
        <button class="hover:text-gray-300 focus:outline-none">Vật tư cây trồng</button>
        <div class="absolute bg-white text-black rounded shadow-lg hidden group-hover:block group-focus-within:block">
          <a class="block px-4 py-2 hover:bg-gray-200" href="fertilizers.html">Phân bón</a>
          <a class="block px-4 py-2 hover:bg-gray-200" href="tools.html">Đất</a>
          <a class="block px-4 py-2 hover:bg-gray-200" href="pots.html">Dụng cụ cắt tỉa</a>
          <a class="block px-4 py-2 hover:bg-gray-200" href="chaucay.html">Chậu cây</a>
        </div>
      </div>

      <a class="flex items-center hover:text-gray-300" href="cart.html">
        <i class="fas fa-shopping-cart mr-2"></i>
        <span>Giỏ hàng (<span id="cartItemCount">0</span> mặt hàng)</span>
      </a>
    </nav>
  </div>
</header>

<div class="pt-16"></div>
<script>
  document.addEventListener('DOMContentLoaded', function() {
      // Lấy dữ liệu từ localStorage
      const cart = JSON.parse(localStorage.getItem('cartItems')) || [];
      
      // Tính tổng số lượng sản phẩm
      const totalQuantity = cart.reduce((total, item) => total + (item.quantity || 0), 0);
      
      // Cập nhật số lượng trên nav
      const cartCount = document.getElementById('cartItemCount');
      if (cartCount) {
          cartCount.textContent = totalQuantity;
      }
  });
  
  // Lắng nghe sự thay đổi của localStorage
  window.addEventListener('storage', function(e) {
      if (e.key === 'cartItems') {
          const cart = JSON.parse(e.newValue || '[]');
          const totalQuantity = cart.reduce((total, item) => total + (item.quantity || 0), 0);
          const cartCount = document.getElementById('cartItemCount');
          if (cartCount) {
              cartCount.textContent = totalQuantity;
          }
      }
  });
  </script>


